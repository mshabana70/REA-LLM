{
    "raw": "package com.d3.game;\n\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageInfo;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.Settings;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\nimport com.deadstrike.ds.R;\nimport com.google.android.gms.common.ConnectionResult;\nimport com.google.android.gms.common.api.GoogleApiClient;\nimport com.google.android.gms.common.api.Result;\nimport com.google.android.gms.common.api.ResultCallback;\nimport com.google.android.gms.drive.DriveFile;\nimport com.google.android.gms.games.Games;\nimport com.google.android.gms.games.Player;\nimport com.google.android.gms.games.event.EventBuffer;\nimport com.google.android.gms.games.event.Events;\nimport com.google.android.gms.games.quest.Quest;\nimport com.google.android.gms.games.quest.QuestBuffer;\nimport com.google.android.gms.games.quest.QuestUpdateListener;\nimport com.google.android.gms.games.quest.Quests;\nimport com.google.android.gms.plus.Plus;\nimport com.google.unity.BuildConfig;\nimport com.pay.common.CoinsTmp;\nimport com.pay.common.PaySuccessSendToU3D;\nimport com.sp.sdk.IDoing3dClient;\nimport com.sp.sdk.RateAndExitInf;\nimport com.sp.sdk.SrService;\nimport com.sp.sdk.iDoing3d;\nimport com.sp.sdk.iDoingExitListDialog;\nimport com.sp.sdk.iDoingListDialog;\nimport com.tapjoy.TapjoyConstants;\nimport com.unity3d.player.UnityPlayerNativeActivity;\nimport java.io.UnsupportedEncodingException;\nimport java.util.Locale;\nimport java.util.UUID;\nimport org.apache.http.protocol.HTTP;\n/* loaded from: classes.dex */\npublic class SrMainActivity extends UnityPlayerNativeActivity implements RateAndExitInf, GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener, QuestUpdateListener {\n    private static final int RC_RESOLVE = 5000;\n    private static final int RC_SIGN_IN = 9001;\n    private static final int RC_UNUSED = 5001;\n    public static final String TAG = \"fs\";\n    private static EventCallback ec;\n    private static QuestCallback qc;\n    private AlertDialog.Builder builder;\n    private Button downlaodMP3Button;\n    private Button downlaodTxtButton;\n    private ResultCallback<Quests.ClaimMilestoneResult> mClaimMilestoneResultCallback;\n    static int cjmaxLevel = 0;\n    static int ml = 0;\n    static int ty = 0;\n    static int showType = 0;\n    public static int increment = 0;\n    private String downloadUrl = null;\n    private GoogleApiClient mGoogleApiClient = null;\n\n    public String getMyUUID() {\n        try {\n            TelephonyManager tm = (TelephonyManager) getSystemService(\"phone\");\n            String tmDevice = tm.getDeviceId();\n            String tmSerial = tm.getSimSerialNumber();\n            String androidId = Settings.Secure.getString(getContentResolver(), TapjoyConstants.TJC_ANDROID_ID);\n            UUID deviceUuid = new UUID(androidId.hashCode(), (tmDevice.hashCode() << 32) | tmSerial.hashCode());\n            String uniqueId = deviceUuid.toString();\n            Log.d(\"debug\", \"uuid=\" + uniqueId);\n            if (uniqueId == null || uniqueId == BuildConfig.FLAVOR) {\n                return getMyUUID2();\n            }\n            return uniqueId;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return getMyUUID2();\n        }\n    }\n\n    private String getMyUUID2() {\n        UUID uuid = UUID.randomUUID();\n        String uniqueId = uuid.toString();\n        Log.d(\"debug\", \"----->UUID\" + uuid);\n        return uniqueId;\n    }\n\n    private void test() {\n        requestWindowFeature(1);\n        getWindow().setFlags(1024, 1024);\n        setContentView(R.layout.activity_main);\n        setRequestedOrientation(0);\n        this.downlaodTxtButton = (Button) findViewById(R.id.downloadTxt);\n        this.downlaodTxtButton.setOnClickListener(new DownloadTextListener());\n        this.downlaodMP3Button = (Button) findViewById(R.id.downloadMp3);\n        this.downlaodMP3Button.setOnClickListener(new DownloadMP3Listener());\n    }\n\n    /* JADX INFO: Access modifiers changed from: protected */\n    @Override // com.unity3d.player.UnityPlayerNativeActivity, android.app.NativeActivity, android.app.Activity\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(128, 128);\n        iDoing3d.serviceStartFromBootBroadcastReceiver = false;\n        Intent show = new Intent(this, SrService.class);\n        startService(show);\n        IDoing3dClient iD3dClient = new IDoing3dClient(this);\n        iD3dClient.getAds(false);\n        CoinsTmp.getCoinsTmp(this);\n        CreateGoogleApiClient();\n    }\n\n    public void resetCoinsTmp() {\n        CoinsTmp.resetCoinsTmp(this);\n    }\n\n    /* loaded from: classes.dex */\n    class DownloadMP3Listener implements View.OnClickListener {\n        DownloadMP3Listener() {\n        }\n\n        @Override // android.view.View.OnClickListener\n        public void onClick(View v) {\n            SrMainActivity.this.ShowAchievementsRequested(\"3\");\n        }\n    }\n\n    public void showDlg() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.1\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Cancel\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.1.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                });\n                SrMainActivity.this.builder.setNegativeButton(\"Continue\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.1.2\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                });\n                SrMainActivity.this.builder.show();\n            }\n        });\n    }\n\n    public void exitGameDlg() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.2\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Exit\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.2.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.exitGame();\n                    }\n                });\n                SrMainActivity.this.builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.2.2\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                });\n                SrMainActivity.this.builder.show();\n            }\n        });\n    }\n\n    /* JADX INFO: Access modifiers changed from: private */\n    public void openRate() {\n        try {\n            Uri uri = Uri.parse(\"market://details?id=\" + getPackageName());\n            Intent intent = new Intent(\"android.intent.action.VIEW\", uri);\n            startActivity(intent);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /* JADX INFO: Access modifiers changed from: private */\n    public void openRateDirect() {\n        try {\n            if (checkApkExist(this, \"com.android.vending\")) {\n                Intent browserIntent = new Intent(\"android.intent.action.VIEW\", Uri.parse(\"market://details?id=\" + getPackageName()));\n                browserIntent.setClassName(\"com.android.vending\", \"com.android.vending.AssetBrowserActivity\");\n                browserIntent.setFlags(DriveFile.MODE_READ_ONLY);\n                startActivity(browserIntent);\n            } else {\n                Uri uri = Uri.parse(\"market://details?id=\" + getPackageName());\n                Intent intent = new Intent(\"android.intent.action.VIEW\", uri);\n                startActivity(intent);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override // com.sp.sdk.RateAndExitInf\n    public void rateGame() {\n        openRate();\n    }\n\n    @Override // com.sp.sdk.RateAndExitInf\n    public void exitGame() {\n        finish();\n    }\n\n    @Override // com.sp.sdk.RateAndExitInf\n    public void showExitDlg() {\n        exitGameDlg();\n    }\n\n    public void OpenExitAds() {\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.3\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.OpenExitAdsEx();\n            }\n        });\n    }\n\n    public void OpenExitAdsEx() {\n        iDoingExitListDialog dialog = new iDoingExitListDialog(this, R.style.customized_dialog, this);\n        dialog.show();\n    }\n\n    public void ShowMoreGames() {\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.4\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.ShowMoreGamesEx();\n            }\n        });\n    }\n\n    public void ShowMoreGamesEx() {\n        iDoingListDialog dialog = new iDoingListDialog(this, R.style.customized_dialog, this);\n        dialog.show();\n    }\n\n    public void ShareOther() {\n        Intent intent = new Intent(\"android.intent.action.SEND\");\n        intent.setType(\"text/plain\");\n        intent.putExtra(\"android.intent.extra.SUBJECT\", getString(R.string.app_name));\n        intent.putExtra(\"android.intent.extra.TEXT\", String.valueOf(getString(R.string.app_name)) + \" great game. Download Url:https://play.google.com/store/apps/details?id=\" + getPackageName());\n        intent.setFlags(DriveFile.MODE_READ_ONLY);\n        startActivity(Intent.createChooser(intent, getTitle()));\n    }\n\n    public void showRateGame() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        this.builder.setMessage(\"If you like the game, please help me rate 5 stars, Thanks for your support\");\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.5\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Cancel\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.5.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                });\n                SrMainActivity.this.builder.setNegativeButton(\"Rate\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.5.2\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.openRateDirect();\n                    }\n                });\n                SrMainActivity.this.builder.show();\n            }\n        });\n    }\n\n    public void showRateGameExit() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        this.builder.setMessage(\"If you like the game, please help me rate 5 stars, Thanks for your support\");\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.6\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Exit\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.6.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.exitGame();\n                    }\n                });\n                SrMainActivity.this.builder.setNegativeButton(\"Rate\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.6.2\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.openRate();\n                    }\n                });\n                SrMainActivity.this.builder.show();\n            }\n        });\n    }\n\n    public String getSign() {\n        PackageManager pm = getPackageManager();\n        try {\n            PackageInfo pInfo = pm.getPackageInfo(getPackageName(), 64);\n            Log.i(\"sign\", pInfo.signatures[0].toString());\n            return pInfo.signatures[0].toString();\n        } catch (PackageManager.NameNotFoundException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public String getLandC() {\n        Locale l = Locale.getDefault();\n        return String.format(\"%s-%s\", l.getLanguage(), l.getCountry());\n    }\n\n    /* loaded from: classes.dex */\n    class DownloadTextListener implements View.OnClickListener {\n        DownloadTextListener() {\n        }\n\n        @Override // android.view.View.OnClickListener\n        public void onClick(View v) {\n            SrMainActivity.this.ShowLeaderboardsRequested(\"3\", \"1\");\n        }\n    }\n\n    public void OpenDownload(String pName) {\n        this.downloadUrl = \"market://details?id=\" + pName;\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.7\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.OpenMarket();\n            }\n        });\n    }\n\n    public void OpenMarket() {\n        try {\n            if (checkApkExist(this, \"com.android.vending\")) {\n                Intent browserIntent = new Intent(\"android.intent.action.VIEW\", Uri.parse(this.downloadUrl));\n                browserIntent.setClassName(\"com.android.vending\", \"com.android.vending.AssetBrowserActivity\");\n                browserIntent.setFlags(DriveFile.MODE_READ_ONLY);\n                startActivity(browserIntent);\n            } else {\n                Uri uri = Uri.parse(this.downloadUrl);\n                Intent intent = new Intent(\"android.intent.action.VIEW\", uri);\n                startActivity(intent);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private boolean checkApkExist(Context context, String packageName) {\n        if (packageName == null || BuildConfig.FLAVOR.equals(packageName)) {\n            return false;\n        }\n        try {\n            context.getPackageManager().getApplicationInfo(packageName, 8192);\n            return true;\n        } catch (PackageManager.NameNotFoundException e) {\n            return false;\n        }\n    }\n\n    public void CreateGoogleApiClient() {\n        this.mGoogleApiClient = new GoogleApiClient.Builder(this).addConnectionCallbacks(this).addOnConnectionFailedListener(this).addApi(Plus.API).addScope(Plus.SCOPE_PLUS_LOGIN).addApi(Games.API).addScope(Games.SCOPE_GAMES).build();\n        ec = new EventCallback(this);\n        qc = new QuestCallback(this);\n        this.mClaimMilestoneResultCallback = new ResultCallback<Quests.ClaimMilestoneResult>() { // from class: com.d3.game.SrMainActivity.8\n            @Override // com.google.android.gms.common.api.ResultCallback\n            public void onResult(Quests.ClaimMilestoneResult result) {\n                SrMainActivity.this.onMilestoneClaimed(result);\n            }\n        };\n    }\n\n    private boolean isSignedIn() {\n        return this.mGoogleApiClient != null && this.mGoogleApiClient.isConnected();\n    }\n\n    public void ShowAchievementsRequested(String maxLevel) {\n        showType = 1;\n        SubmitAchievement(Integer.parseInt(maxLevel));\n        if (isSignedIn()) {\n            startActivityForResult(Games.Achievements.getAchievementsIntent(this.mGoogleApiClient), 5001);\n        } else {\n            runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.9\n                @Override // java.lang.Runnable\n                public void run() {\n                    SrMainActivity.this.mGoogleApiClient.connect();\n                }\n            });\n        }\n    }\n\n    public void SubmitAchievement(int maxLevel) {\n        cjmaxLevel = maxLevel;\n        if (isSignedIn()) {\n            SubmitAchievementE();\n        }\n    }\n\n    public void SubmitAchievementE() {\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.10\n            @Override // java.lang.Runnable\n            public void run() {\n                if (SrMainActivity.cjmaxLevel > 5) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_primary_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 10) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_senior_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 20) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_advanced_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 30) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_assassin_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 50) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_elite_shooter));\n                }\n            }\n        });\n    }\n\n    public void ShowLeaderboardsRequested(String maxlevel, String type) {\n        showType = 0;\n        submitScore(Integer.parseInt(maxlevel), Integer.parseInt(type));\n        if (isSignedIn()) {\n            runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.11\n                @Override // java.lang.Runnable\n                public void run() {\n                    SrMainActivity.this.startActivityForResult(Games.Leaderboards.getAllLeaderboardsIntent(SrMainActivity.this.mGoogleApiClient), 5001);\n                }\n            });\n        } else {\n            runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.12\n                @Override // java.lang.Runnable\n                public void run() {\n                    SrMainActivity.this.mGoogleApiClient.connect();\n                }\n            });\n        }\n    }\n\n    public void submitScore(int maxlevel, int type) {\n        ml = maxlevel;\n        ty = type;\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.13\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.submitScorex();\n            }\n        });\n    }\n\n    /* JADX INFO: Access modifiers changed from: private */\n    public void submitScorex() {\n        if (isSignedIn()) {\n            switch (ty) {\n                case 1:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_ice_level_mode_rank), ml);\n                    return;\n                case 2:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_desert_level_mode_rank), ml);\n                    return;\n                case 3:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_tower_level_mode_rank), ml);\n                    return;\n                case 4:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_temple_level_mode_rank), ml);\n                    return;\n                case 5:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_ice_custom_mode_rank), ml);\n                    return;\n                case 6:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_desert_custom_mode_rank), ml);\n                    return;\n                case 7:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_tower_custom_mode_rank), ml);\n                    return;\n                case 8:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_temple_custom_mode_rank), ml);\n                    return;\n                default:\n                    return;\n            }\n        }\n    }\n\n    @Override // com.google.android.gms.common.api.GoogleApiClient.OnConnectionFailedListener\n    public void onConnectionFailed(ConnectionResult connectionResult) {\n        BaseGameUtils.resolveConnectionFailure(this, this.mGoogleApiClient, connectionResult, 9001, getString(R.string.signin_other_error));\n    }\n\n    @Override // com.google.android.gms.common.api.GoogleApiClient.ConnectionCallbacks\n    public void onConnected(Bundle arg0) {\n        Player p = Games.Players.getCurrentPlayer(this.mGoogleApiClient);\n        if (p == null) {\n            Log.w(TAG, \"mGamesClient.getCurrentPlayer() is NULL!\");\n        } else {\n            p.getDisplayName();\n        }\n        if (showType == 0) {\n            submitScore(ml, ty);\n            startActivityForResult(Games.Leaderboards.getAllLeaderboardsIntent(this.mGoogleApiClient), 5001);\n        } else if (showType == 1) {\n            SubmitAchievement(cjmaxLevel);\n            startActivityForResult(Games.Achievements.getAchievementsIntent(this.mGoogleApiClient), 5001);\n        } else if (showType == 2) {\n            Games.Quests.registerQuestUpdateListener(this.mGoogleApiClient, this);\n            Games.Events.increment(this.mGoogleApiClient, \"1\", increment);\n            int[] selection = {2, 101, 3};\n            Intent questsIntent = Games.Quests.getQuestsIntent(this.mGoogleApiClient, selection);\n            startActivityForResult(questsIntent, 0);\n        }\n    }\n\n    @Override // com.google.android.gms.common.api.GoogleApiClient.ConnectionCallbacks\n    public void onConnectionSuspended(int arg0) {\n        this.mGoogleApiClient.connect();\n    }\n\n    @Override // android.app.Activity\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n        if (requestCode == 9001) {\n            if (resultCode == -1) {\n                this.mGoogleApiClient.connect();\n            } else {\n                BaseGameUtils.showActivityResultError(this, requestCode, resultCode, R.string.signin_other_error);\n            }\n        }\n    }\n\n    public void showQuests(String incStr) {\n        int inc = Integer.parseInt(incStr);\n        showType = 2;\n        if (isSignedIn()) {\n            increment = inc;\n            Games.Events.increment(this.mGoogleApiClient, getString(R.string.event_kill_enemies_count), increment);\n            int[] selection = {2, 101, 3};\n            Intent questsIntent = Games.Quests.getQuestsIntent(this.mGoogleApiClient, selection);\n            startActivityForResult(questsIntent, 0);\n            return;\n        }\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.14\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.mGoogleApiClient.connect();\n            }\n        });\n    }\n\n    public void onMilestoneClaimed(Quests.ClaimMilestoneResult result) {\n        try {\n            if (result.getStatus().isSuccess()) {\n                String reward = new String(result.getQuest().getCurrentMilestone().getCompletionRewardData(), HTTP.UTF_8);\n                Toast.makeText(this, \"Congratulations, you got a \" + reward, 1).show();\n                PaySuccessSendToU3D.SendCoinsToU3dByPay(\"30000\", this);\n            } else {\n                Log.e(TAG, \"Reward was not claimed due to error.\");\n                Toast.makeText(this, \"Reward was not claimed due to error.\", 1).show();\n            }\n        } catch (UnsupportedEncodingException uee) {\n            uee.printStackTrace();\n        }\n    }\n\n    /* JADX INFO: Access modifiers changed from: package-private */\n    /* loaded from: classes.dex */\n    public class EventCallback implements ResultCallback {\n        SrMainActivity m_parent;\n\n        public EventCallback(SrMainActivity main) {\n            this.m_parent = main;\n        }\n\n        @Override // com.google.android.gms.common.api.ResultCallback\n        public void onResult(Result result) {\n            Events.LoadEventsResult r = (Events.LoadEventsResult) result;\n            EventBuffer eb = r.getEvents();\n            String message = \"Current stats: \\n\";\n            Log.i(SrMainActivity.TAG, \"number of events: \" + eb.getCount());\n            for (int i = 0; i < eb.getCount(); i++) {\n                message = String.valueOf(message) + \"event: \" + eb.get(i).getName() + \" \" + eb.get(i).getEventId() + \" \" + eb.get(i).getValue() + \"\\n\";\n            }\n            eb.close();\n            Toast.makeText(this.m_parent, message, 1).show();\n        }\n    }\n\n    /* JADX INFO: Access modifiers changed from: package-private */\n    /* loaded from: classes.dex */\n    public class QuestCallback implements ResultCallback {\n        SrMainActivity m_parent;\n\n        public QuestCallback(SrMainActivity main) {\n            this.m_parent = main;\n        }\n\n        @Override // com.google.android.gms.common.api.ResultCallback\n        public void onResult(Result result) {\n            Quests.LoadQuestsResult r = (Quests.LoadQuestsResult) result;\n            QuestBuffer qb = r.getQuests();\n            String message = \"Current quest details: \\n\";\n            Log.i(SrMainActivity.TAG, \"Number of quests: \" + qb.getCount());\n            for (int i = 0; i < qb.getCount(); i++) {\n                message = String.valueOf(message) + \"Quest: \" + qb.get(i).getName() + \" id: \" + qb.get(i).getQuestId();\n            }\n            qb.close();\n            Toast.makeText(this.m_parent, message, 1).show();\n        }\n    }\n\n    @Override // com.google.android.gms.games.quest.QuestUpdateListener\n    public void onQuestCompleted(Quest quest) {\n        String message = \"You successfully completed quest \" + quest.getName();\n        Log.i(TAG, message);\n        Toast.makeText(this, message, 1).show();\n        Games.Quests.claim(this.mGoogleApiClient, quest.getQuestId(), quest.getCurrentMilestone().getMilestoneId()).setResultCallback(this.mClaimMilestoneResultCallback);\n    }\n}\n",
    "functions": [
        "public String getMyUUID() {\n        try {\n            TelephonyManager tm = (TelephonyManager) getSystemService(\"phone\");\n            String tmDevice = tm.getDeviceId();\n            String tmSerial = tm.getSimSerialNumber();\n            String androidId = Settings.Secure.getString(getContentResolver(), TapjoyConstants.TJC_ANDROID_ID);\n            UUID deviceUuid = new UUID(androidId.hashCode(), (tmDevice.hashCode() << 32) | tmSerial.hashCode());\n            String uniqueId = deviceUuid.toString();\n            Log.d(\"debug\", \"uuid=\" + uniqueId);\n            if (uniqueId == null || uniqueId == BuildConfig.FLAVOR) {\n                return getMyUUID2();\n            }\n            return uniqueId;\n        }",
        "private String getMyUUID2() {\n        UUID uuid = UUID.randomUUID();\n        String uniqueId = uuid.toString();\n        Log.d(\"debug\", \"----->UUID\" + uuid);\n        return uniqueId;\n    }",
        "private void test() {\n        requestWindowFeature(1);\n        getWindow().setFlags(1024, 1024);\n        setContentView(R.layout.activity_main);\n        setRequestedOrientation(0);\n        this.downlaodTxtButton = (Button) findViewById(R.id.downloadTxt);\n        this.downlaodTxtButton.setOnClickListener(new DownloadTextListener());\n        this.downlaodMP3Button = (Button) findViewById(R.id.downloadMp3);\n        this.downlaodMP3Button.setOnClickListener(new DownloadMP3Listener());\n    }",
        "public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(128, 128);\n        iDoing3d.serviceStartFromBootBroadcastReceiver = false;\n        Intent show = new Intent(this, SrService.class);\n        startService(show);\n        IDoing3dClient iD3dClient = new IDoing3dClient(this);\n        iD3dClient.getAds(false);\n        CoinsTmp.getCoinsTmp(this);\n        CreateGoogleApiClient();\n    }",
        "public void resetCoinsTmp() {\n        CoinsTmp.resetCoinsTmp(this);\n    }",
        "public void onClick(View v) {\n            SrMainActivity.this.ShowAchievementsRequested(\"3\");\n        }",
        "public void showDlg() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.1\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Cancel\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.1.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                }",
        "public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }",
        "public void exitGameDlg() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.2\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Exit\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.2.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.exitGame();\n                    }\n                }",
        "public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }",
        "public void openRate() {\n        try {\n            Uri uri = Uri.parse(\"market://details?id=\" + getPackageName());\n            Intent intent = new Intent(\"android.intent.action.VIEW\", uri);\n            startActivity(intent);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }",
        "public void openRateDirect() {\n        try {\n            if (checkApkExist(this, \"com.android.vending\")) {\n                Intent browserIntent = new Intent(\"android.intent.action.VIEW\", Uri.parse(\"market://details?id=\" + getPackageName()));\n                browserIntent.setClassName(\"com.android.vending\", \"com.android.vending.AssetBrowserActivity\");\n                browserIntent.setFlags(DriveFile.MODE_READ_ONLY);\n                startActivity(browserIntent);\n            } else {\n                Uri uri = Uri.parse(\"market://details?id=\" + getPackageName());\n                Intent intent = new Intent(\"android.intent.action.VIEW\", uri);\n                startActivity(intent);\n            }\n        }",
        "public void rateGame() {\n        openRate();\n    }",
        "public void exitGame() {\n        finish();\n    }",
        "public void showExitDlg() {\n        exitGameDlg();\n    }",
        "public void OpenExitAds() {\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.3\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.OpenExitAdsEx();\n            }\n        }",
        "public void OpenExitAdsEx() {\n        iDoingExitListDialog dialog = new iDoingExitListDialog(this, R.style.customized_dialog, this);\n        dialog.show();\n    }",
        "public void ShowMoreGames() {\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.4\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.ShowMoreGamesEx();\n            }\n        }",
        "public void ShowMoreGamesEx() {\n        iDoingListDialog dialog = new iDoingListDialog(this, R.style.customized_dialog, this);\n        dialog.show();\n    }",
        "public void ShareOther() {\n        Intent intent = new Intent(\"android.intent.action.SEND\");\n        intent.setType(\"text/plain\");\n        intent.putExtra(\"android.intent.extra.SUBJECT\", getString(R.string.app_name));\n        intent.putExtra(\"android.intent.extra.TEXT\", String.valueOf(getString(R.string.app_name)) + \" great game. Download Url:https://play.google.com/store/apps/details?id=\" + getPackageName());\n        intent.setFlags(DriveFile.MODE_READ_ONLY);\n        startActivity(Intent.createChooser(intent, getTitle()));\n    }",
        "public void showRateGame() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        this.builder.setMessage(\"If you like the game, please help me rate 5 stars, Thanks for your support\");\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.5\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Cancel\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.5.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                }",
        "public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.openRateDirect();\n                    }",
        "public void showRateGameExit() {\n        this.builder = new AlertDialog.Builder(this);\n        this.builder.setTitle(getString(R.string.app_name));\n        this.builder.setMessage(\"If you like the game, please help me rate 5 stars, Thanks for your support\");\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.6\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.builder.setPositiveButton(\"Exit\", new DialogInterface.OnClickListener() { // from class: com.d3.game.SrMainActivity.6.1\n                    @Override // android.content.DialogInterface.OnClickListener\n                    public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.exitGame();\n                    }\n                }",
        "public void onClick(DialogInterface dialog, int which) {\n                        SrMainActivity.this.openRate();\n                    }",
        "public String getSign() {\n        PackageManager pm = getPackageManager();\n        try {\n            PackageInfo pInfo = pm.getPackageInfo(getPackageName(), 64);\n            Log.i(\"sign\", pInfo.signatures[0].toString());\n            return pInfo.signatures[0].toString();\n        } catch (PackageManager.NameNotFoundException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }",
        "public String getLandC() {\n        Locale l = Locale.getDefault();\n        return String.format(\"%s-%s\", l.getLanguage(), l.getCountry());\n    }",
        "public void onClick(View v) {\n            SrMainActivity.this.ShowLeaderboardsRequested(\"3\", \"1\");\n        }",
        "public void OpenDownload(String pName) {\n        this.downloadUrl = \"market://details?id=\" + pName;\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.7\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.OpenMarket();\n            }\n        }",
        "public void OpenMarket() {\n        try {\n            if (checkApkExist(this, \"com.android.vending\")) {\n                Intent browserIntent = new Intent(\"android.intent.action.VIEW\", Uri.parse(this.downloadUrl));\n                browserIntent.setClassName(\"com.android.vending\", \"com.android.vending.AssetBrowserActivity\");\n                browserIntent.setFlags(DriveFile.MODE_READ_ONLY);\n                startActivity(browserIntent);\n            } else {\n                Uri uri = Uri.parse(this.downloadUrl);\n                Intent intent = new Intent(\"android.intent.action.VIEW\", uri);\n                startActivity(intent);\n            }\n        }",
        "private boolean checkApkExist(Context context, String packageName) {\n        if (packageName == null || BuildConfig.FLAVOR.equals(packageName)) {\n            return false;\n        }\n        try {\n            context.getPackageManager().getApplicationInfo(packageName, 8192);\n            return true;\n        } catch (PackageManager.NameNotFoundException e) {\n            return false;\n        }\n    }",
        "public void CreateGoogleApiClient() {\n        this.mGoogleApiClient = new GoogleApiClient.Builder(this).addConnectionCallbacks(this).addOnConnectionFailedListener(this).addApi(Plus.API).addScope(Plus.SCOPE_PLUS_LOGIN).addApi(Games.API).addScope(Games.SCOPE_GAMES).build();\n        ec = new EventCallback(this);\n        qc = new QuestCallback(this);\n        this.mClaimMilestoneResultCallback = new ResultCallback<Quests.ClaimMilestoneResult>() { // from class: com.d3.game.SrMainActivity.8\n            @Override // com.google.android.gms.common.api.ResultCallback\n            public void onResult(Quests.ClaimMilestoneResult result) {\n                SrMainActivity.this.onMilestoneClaimed(result);\n            }\n        }",
        "private boolean isSignedIn() {\n        return this.mGoogleApiClient != null && this.mGoogleApiClient.isConnected();\n    }",
        "public void ShowAchievementsRequested(String maxLevel) {\n        showType = 1;\n        SubmitAchievement(Integer.parseInt(maxLevel));\n        if (isSignedIn()) {\n            startActivityForResult(Games.Achievements.getAchievementsIntent(this.mGoogleApiClient), 5001);\n        } else {\n            runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.9\n                @Override // java.lang.Runnable\n                public void run() {\n                    SrMainActivity.this.mGoogleApiClient.connect();\n                }\n            }",
        "public void SubmitAchievement(int maxLevel) {\n        cjmaxLevel = maxLevel;\n        if (isSignedIn()) {\n            SubmitAchievementE();\n        }\n    }",
        "public void SubmitAchievementE() {\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.10\n            @Override // java.lang.Runnable\n            public void run() {\n                if (SrMainActivity.cjmaxLevel > 5) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_primary_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 10) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_senior_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 20) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_advanced_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 30) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_assassin_shooter));\n                }\n                if (SrMainActivity.cjmaxLevel > 50) {\n                    Games.Achievements.unlock(SrMainActivity.this.mGoogleApiClient, SrMainActivity.this.getString(R.string.achievement_elite_shooter));\n                }\n            }",
        "public void ShowLeaderboardsRequested(String maxlevel, String type) {\n        showType = 0;\n        submitScore(Integer.parseInt(maxlevel), Integer.parseInt(type));\n        if (isSignedIn()) {\n            runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.11\n                @Override // java.lang.Runnable\n                public void run() {\n                    SrMainActivity.this.startActivityForResult(Games.Leaderboards.getAllLeaderboardsIntent(SrMainActivity.this.mGoogleApiClient), 5001);\n                }\n            }",
        "public void run() {\n                    SrMainActivity.this.mGoogleApiClient.connect();\n                }",
        "public void submitScore(int maxlevel, int type) {\n        ml = maxlevel;\n        ty = type;\n        runOnUiThread(new Runnable() { // from class: com.d3.game.SrMainActivity.13\n            @Override // java.lang.Runnable\n            public void run() {\n                SrMainActivity.this.submitScorex();\n            }\n        }",
        "public void submitScorex() {\n        if (isSignedIn()) {\n            switch (ty) {\n                case 1:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_ice_level_mode_rank), ml);\n                    return;\n                case 2:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_desert_level_mode_rank), ml);\n                    return;\n                case 3:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_tower_level_mode_rank), ml);\n                    return;\n                case 4:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_temple_level_mode_rank), ml);\n                    return;\n                case 5:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_ice_custom_mode_rank), ml);\n                    return;\n                case 6:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_desert_custom_mode_rank), ml);\n                    return;\n                case 7:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_tower_custom_mode_rank), ml);\n                    return;\n                case 8:\n                    Games.Leaderboards.submitScore(this.mGoogleApiClient, getString(R.string.leaderboard_temple_custom_mode_rank), ml);\n                    return;\n                default:\n                    return;\n            }\n        }",
        "public void onConnectionFailed(ConnectionResult connectionResult) {\n        BaseGameUtils.resolveConnectionFailure(this, this.mGoogleApiClient, connectionResult, 9001, getString(R.string.signin_other_error));\n    }",
        "public void onConnected(Bundle arg0) {\n        Player p = Games.Players.getCurrentPlayer(this.mGoogleApiClient);\n        if (p == null) {\n            Log.w(TAG, \"mGamesClient.getCurrentPlayer() is NULL!\");\n        } else {\n            p.getDisplayName();\n        }\n        if (showType == 0) {\n            submitScore(ml, ty);\n            startActivityForResult(Games.Leaderboards.getAllLeaderboardsIntent(this.mGoogleApiClient), 5001);\n        } else if (showType == 1) {\n            SubmitAchievement(cjmaxLevel);\n            startActivityForResult(Games.Achievements.getAchievementsIntent(this.mGoogleApiClient), 5001);\n        } else if (showType == 2) {\n            Games.Quests.registerQuestUpdateListener(this.mGoogleApiClient, this);\n            Games.Events.increment(this.mGoogleApiClient, \"1\", increment);\n            int[] selection = {2, 101, 3};\n            Intent questsIntent = Games.Quests.getQuestsIntent(this.mGoogleApiClient, selection);\n            startActivityForResult(questsIntent, 0);\n        }",
        "public void onConnectionSuspended(int arg0) {\n        this.mGoogleApiClient.connect();\n    }",
        "protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n        if (requestCode == 9001) {\n            if (resultCode == -1) {\n                this.mGoogleApiClient.connect();\n            } else {\n                BaseGameUtils.showActivityResultError(this, requestCode, resultCode, R.string.signin_other_error);\n            }\n        }",
        "public void showQuests(String incStr) {\n        int inc = Integer.parseInt(incStr);\n        showType = 2;\n        if (isSignedIn()) {\n            increment = inc;\n            Games.Events.increment(this.mGoogleApiClient, getString(R.string.event_kill_enemies_count), increment);\n            int[] selection = {2, 101, 3};\n            Intent questsIntent = Games.Quests.getQuestsIntent(this.mGoogleApiClient, selection);\n            startActivityForResult(questsIntent, 0);\n            return;\n        }",
        "public void run() {\n                SrMainActivity.this.mGoogleApiClient.connect();\n            }",
        "public void onMilestoneClaimed(Quests.ClaimMilestoneResult result) {\n        try {\n            if (result.getStatus().isSuccess()) {\n                String reward = new String(result.getQuest().getCurrentMilestone().getCompletionRewardData(), HTTP.UTF_8);\n                Toast.makeText(this, \"Congratulations, you got a \" + reward, 1).show();\n                PaySuccessSendToU3D.SendCoinsToU3dByPay(\"30000\", this);\n            } else {\n                Log.e(TAG, \"Reward was not claimed due to error.\");\n                Toast.makeText(this, \"Reward was not claimed due to error.\", 1).show();\n            }\n        }",
        "public void onResult(Result result) {\n            Events.LoadEventsResult r = (Events.LoadEventsResult) result;\n            EventBuffer eb = r.getEvents();\n            String message = \"Current stats: \\n\";\n            Log.i(SrMainActivity.TAG, \"number of events: \" + eb.getCount());\n            for (int i = 0; i < eb.getCount(); i++) {\n                message = String.valueOf(message) + \"event: \" + eb.get(i).getName() + \" \" + eb.get(i).getEventId() + \" \" + eb.get(i).getValue() + \"\\n\";\n            }\n            eb.close();\n            Toast.makeText(this.m_parent, message, 1).show();\n        }",
        "public void onResult(Result result) {\n            Quests.LoadQuestsResult r = (Quests.LoadQuestsResult) result;\n            QuestBuffer qb = r.getQuests();\n            String message = \"Current quest details: \\n\";\n            Log.i(SrMainActivity.TAG, \"Number of quests: \" + qb.getCount());\n            for (int i = 0; i < qb.getCount(); i++) {\n                message = String.valueOf(message) + \"Quest: \" + qb.get(i).getName() + \" id: \" + qb.get(i).getQuestId();\n            }\n            qb.close();\n            Toast.makeText(this.m_parent, message, 1).show();\n        }",
        "public void onQuestCompleted(Quest quest) {\n        String message = \"You successfully completed quest \" + quest.getName();\n        Log.i(TAG, message);\n        Toast.makeText(this, message, 1).show();\n        Games.Quests.claim(this.mGoogleApiClient, quest.getQuestId(), quest.getCurrentMilestone().getMilestoneId()).setResultCallback(this.mClaimMilestoneResultCallback);\n    }"
    ]
}